<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://cdn.bootcss.com/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
	<title>Document</title>
	<script src="../common.js"></script>
</head>
<style>
	body {
		margin-top: 1em;
	}
</style>

<body>
	<div style="width: 801px;margin-left:7%;">
		<ul class="nav nav-pills" id="navpillsul">
			<li class="nav-item">
				<a class="nav-link active" aria-current="page" href="#">时事</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#">科技</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#">体育</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#">娱乐圈</a>
			</li>
		</ul>
		<div id="siwtchhidderbox">
			<div id="switchbox">
				<div class="contentswitcher">
					<iframe src="./pg4-1_times.html" frameborder="no" width="100%"></iframe>
				</div>
				<div class="contentswitcher">
					<iframe src="./pg4-2_tech.html" frameborder="no" width="100%"></iframe>
				</div>
				<div class="contentswitcher">
					<iframe src="./pg4-3_sport.html" frameborder="no" width="100%"></iframe>
				</div>
				<div class="contentswitcher">
					<iframe src="./pg4-4_yule.html" frameborder="no" width="100%"></iframe>
				</div>
			</div>
		</div>
	</div>
</body>
<script>
	window.onload = function () {
		var clheight = document.documentElement.clientHeight;
		$(".contentswitcher").css("height", clheight - 200);
		$(".contentswitcher iframe").css("height", clheight - 201);
		GBFheight(50, "pg1_main");
		GBFheight(100, "centerpagearea");
	}

	var animatetime = 300;
	var animatecounter = 0;
	var currentlayer = 0;
	$("#navpillsul li").eq(0).click(function () {
		$("#navpillsul li a").eq(0).addClass("active");
		$("#navpillsul li a:not(:eq(0))").removeClass("active");
		movedecision(currentlayer, 0);
		currentlayer = 0;
	});
	$("#navpillsul li").eq(1).click(function () {
		$("#navpillsul li a").eq(1).addClass("active");
		$("#navpillsul li a:not(:eq(1))").removeClass("active");
		movedecision(currentlayer, 1);
		currentlayer = 1;
	});
	$("#navpillsul li").eq(2).click(function () {
		$("#navpillsul li a").eq(2).addClass("active");
		$("#navpillsul li a:not(:eq(2))").removeClass("active");
		movedecision(currentlayer, 2);
		currentlayer = 2;
	});
	$("#navpillsul li").eq(3).click(function () {
		$("#navpillsul li a").eq(3).addClass("active");
		$("#navpillsul li a:not(:eq(3))").removeClass("active");
		movedecision(currentlayer, 3);
		currentlayer = 3;
	});

	function movedecision(fromlayer, tolayer) {
		if (fromlayer > tolayer) {
			moveleft(fromlayer - tolayer);
		}
		else if (fromlayer < tolayer) {
			moveright(tolayer - fromlayer);
		}
	}

	function moveleft(count) {
		var instanimatetime = (animatetime / count) * 1.25;
		for (; count > 0; count--) {
			$("#switchbox").animate({ left: '+=800px' }, instanimatetime);

		}
	}
	function moveright(count) {
		var instanimatetime = (animatetime / count) * 1.25;
		for (; count > 0; count--) {
			$("#switchbox").animate({ left: '-=800px' }, instanimatetime);

		}
	}
</script>
<style>
	#siwtchhidderbox {
		border: hotpink 2px solid;
		display: block;
		width: 800px;
		overflow: hidden;

	}

	#switchbox {
		display: flex;
		position: relative;
		width: 3200px;
	}

	.contentswitcher {

		border: steelblue 1px solid;
		width: 800px;
		height: 600px;
	}
</style>

</html>